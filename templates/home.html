{% extends "base.html" %}

<!--Not sure if this works-->
<head>
    <meta http-equiv="refresh" content="5" />
</head>

{% block content %}

    <h2 width="100%">Songs in Playlist</h2>
    {% for song in unplayed_songs %}
        <div class="">
            <a href="/ai_songs/{{ song.song_id }}">@{{ song.username }}'s {{ song.title }} - {{ song.song_id }}</a>
        </div>
    {% endfor %}

    <hr />

        
        {% if current_song %}
            {% set score = current_song.avg_score | default("No Votes for Song") %}
            <h2 class="sub-header current-song">
                Current Song: {{ current_song.title }} | Tags: {{ current_song.tags }} | Creator: @{{ current_song.username }} | {{ current_song.song_id }} | AVG Score: {{ score }} | Total Votes: {{ current_song_votes_count }}
            </h2>


            <div class="grid-container">
                {% for image in images %}
                    <div class="grid-item">
                        <img src="/images/{{current_song.song_id}}/{{ image }}" alt="{{image}}" width="300px">
                    </div>
                {% endfor %}
    
                {% for video in videos %}
                    <div class="grid-item">
                        <video src="/images/{{current_song.song_id}}/{{ video }}" alt="{{video}}" width="300px" src="movie.mp4" type="video/mp4" autoplay muted>
                    </div>
                {% endfor %}

            </div>
            
        {% endif %}

        </h4> Users</h4>
            <br />
        {% for user in users %}
            <a href="/users/{{user[0]}}"> {{user[0]}} - Total Songs {{user[1]}}</a>
            <br />
        {% endfor %}
    
{% endblock %}
    
